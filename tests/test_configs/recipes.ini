
################################################################################
# Topo section recipes
################################################################################

# Ensure we have at least the defaults
[topo_basic_recipe]
trigger:      has_section = topo

topo:
              type = default,

# If the user wants to use netcdf then remove dem option for the IPW route
[topo_filename_recipe]
trigger_filename:      has_item = [topo filename]
trigger_type:      has_value = [topo type netcdf]

topo:         type = netcdf,
              apply_defaults = filename,
              remove_item = dem


################################################################################
# Distribution section recipes
################################################################################

# If the user wants to use IPW files, then remove the filename option
[topo_ipw_recipe]
trigger_type:       has_value = [topo type ipw]

topo:               type = ipw,
                    apply_defaults = dem,
                    remove_item = filename

# If any section with distriubtion= dk apply defaults for threads when using dk
[dk_recipe]
trigger:      has_value = [any distribution dk]
any:          dk_nthreads = default,

#If any section with distribution=idw then remove dk_threads
[idw_recipe]
trigger:      has_value = [any distribution idw]
any:          remove_item = dk_nthreads
